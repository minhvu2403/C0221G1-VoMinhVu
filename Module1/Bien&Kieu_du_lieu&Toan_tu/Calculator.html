<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ứng dụng máy tính</title>
    <link rel="stylesheet" href="css/calculator.css">
   <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
</head>
<body>
     <div class="calculate">
         <div class="vien">
         <div class="number">
             <div id="result"></div>
             <table>
                 <tr>
                     <td><button class="btn" value="(">(</button></td>
                     <td><button class="btn" value=")">)</button></td>
                     <td><button class="btn" onclick="undo()">DEL</button></td>
                     <td><button class="btn" onclick="clean()">AC</button></td>
                 </tr>
                 <tr>
                     <td><button class="btn" value="7">7</button></td>
                     <td><button class="btn" value="8">8</button></td>
                     <td><button class="btn" value="9">9</button></td>
                     <td><button class="btn" value="+">+</button></td>

                 </tr>
                 <tr>
                     <td><button class="btn" value="4">4</button></td>
                     <td><button class="btn" value="5">5</button></td>
                     <td><button class="btn" value="6">6</button></td>
                     <td><button class="btn" value="-">-</button></td>

                 </tr>
                 <tr>
                     <td><button class="btn" value="1">1</button></td>
                     <td><button class="btn" value="2">2</button></td>
                     <td><button class="btn" value="3">3</button></td>
                     <td><button class="btn" value="*">x</button></td>

                 </tr>
                 <tr>
                     <td><button class="btn" value="0">0</button></td>
                     <td><button class="btn" value=".">.</button></td>
                     <td><button class="btn"  onclick="equal()">=</button></td>
                     <td><button class="btn" value="/">/</button></td>
                 </tr>
             </table>
         </div>
         </div>
     </div>
    <script >
         $('td').click(function() {
            $(this).addClass('active').siblings().removeClass('active');
         });

        let numbers =document.getElementsByClassName('btn');
        let result =document.getElementById("result");
        let kqk='--';
        for (let number of numbers){
            number.addEventListener('click' ,function () {
                  result.innerHTML +=this.value;

            });
        }
        function equal() {
            let lx='loi cu phap';
           let  res =result.innerHTML
             if(res.includes("**")|| res.includes("//")){
                 result.innerHTML = lx;
             }
             else{
                 try{
                     let output=eval(res);
                     result.innerHTML=output;
                 }
                 catch (e) {
                     if (e instanceof SyntaxError) {
                         result.innerHTML = lx;
                     }
                 }
             }
        }
        function clean() {
           result.innerHTML=" "
        }
        function undo() {
           let res =result.innerHTML
            result.innerHTML =res.substring(0,res.length-1);
        }


    </script>
</body>
</html>